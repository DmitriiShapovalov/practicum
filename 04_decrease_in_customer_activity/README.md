# Снижение активности покупателей

[ipynb](decrease_in_customer_activity.ipynb)

## Задачи
 - построение модели для предсказания вероятности снижения покупательской активности клиента в следующие три месяца;
 - выделение и анализ определенного сегмента покупателей с последующим формированием предложения по увеличению покупательской активности исследуемого сегмента.

## Описание работы
Интернет-магазин продаёт разные товары: для детей, для дома, мелкую бытовую технику, косметику и даже продукты. Отчёт магазина за прошлый период показал, что активность покупателей начала снижаться. Привлекать новых клиентов уже не так эффективно: о магазине и так знает большая часть целевой аудитории. Возможный выход — удерживать активность постоянных клиентов. Сделать это можно с помощью персонализированных предложений. Поэтому необходимо разработать решение, которое позволит персонализировать предложения постоянным клиентам, чтобы увеличить их покупательскую активность.

## Описание данных
Исследуемые данные состоят из нескольких датасетов:
- датасет с данными о поведении покупателя на сайте, о коммуникациях с покупателем и его продуктовом поведении. Содержит целевым признаком, отражающий покупательскую активность
- датасет с данными о выручке, которую получает магазин с покупателя, то есть сколько покупатель всего потратил за период взаимодействия с сайтом
- датасет с данными о времени, которое покупатель провёл на сайте в течение периода
- датасет с данными о среднемесячной прибыли покупателя за последние 3 месяца

## План работы:
- чтение и предобработка полученных данных для проверки на соответствие данных описанию и выявления и исправления возможных некорректных аномальных значений
- проведение исследовательского анализа данных для изучения входных признаков и выявления возможных аномалий и выбросов, а также для отбора из всего количества покупателей клиентов с покупательской активностью не менее трёх месяцев 
- объединение таблиц с разными группами признаков для последующего использования в моделировании.
- проведение корреляционного анализа входных признаков и проверка их на мультиколлинеарность
- подготовка с помощью пайплайнов данных для моделирования, используя сразу несколько кодировщиков и скейлеров, обучение сразу несколько моделей, подбирая гиперпараметры, и выбор лучшей модели с лучшей метрикой
- выбор группы покупателей и составление предложений, как увеличить покупательскую активность выбранной группы
- тезисная формулировка основных выводов, полученных в результате исследования

## Используемые метрики
ROC-AUC, accuracy

## Используемые библиотеки
*pandas, numpy, sklearn, shap, phik, time, seaborn, matplotlib, os, requests*

## Выводы
- В результате предобработки данных исправлены и убраны аномальные и некорректные значения 
- В результате исследовательского анализа выявлены ключевые характеристики пользователей: большинство клиентов активно пользуются сервисом более 110 дней, чаще всего просматривают 3 категории и 6 страниц товаров за визит, средняя продолжительность сессии составляет 14 минут.
- Наиболее популярные категории товаров: товары для детей (25.4%), домашний текстиль (19.3%) и косметика с аксессуарами (17.2%). Покупательская активность сохраняется у 61.7% клиентов, при этом 71.7% имеют подписку «Стандарт», а 74% разрешают рекламные рассылки. Прибыльные сегменты концентрируются в категориях товаров для детей и косметики.
- Основные факторы удержания клиентов: 
  - увеличение количества просмотренных страниц, 
  - увеличение количества категорий за визит,
  - увеличение времени на сайте
  - снижение доли акционных покупок
  - уменьшение количества неоплаченных товаров в корзине
- обучены в пайплайнах несколько моделей: KNeighborsClassifier(), DecisionTreeClassifier(), LogisticRegression() и  SVC(), подобраны гиперпараметры при помощи инструментов автоматизированного подбора GridSearchCV() и RandomizedSearchCV() с разными вариантами масштабирования. *Лучшей моделью оказалась модель SVC(), показав метрику ROC-AUC на тестовой выборке 0.915*
- подробно был изучен сегмент высокоприбыльных покупателей, который характеризуется более высокой долей акционных покупок, меньшим количеством просматриваемых страниц и категорий, при этом среднее время на сайте составляет около 10 минут.
Наиболее прибыльными категориями для этого сегмента являются товары для детей и косметика с аксессуарами, при этом снижение покупательской активности связано с уменьшением времени на сайте, количества просмотров и ростом доли акционных покупок, поэтому для удержания клиентов рекомендуется расширить ассортимент именно в популярных категориях (товары для детей, косметика и аксессуары и домашний текстиль), тем самым увеличив вовлеченность пользователей.

Общие рекомендации для повышения активности следующие:
- расширять ассортимент в популярных категориях
- добавить несколько новых категорий, которые будут смежными с самыми популярными категориями
- оптимизировать скорость работы сайта
- для уменьшения доли покупок товаров по акции можно внедрить бонусную систему для продвижения товаров без скидки
- улучшить визуальное представление товаров
- отправлять уведомления о товарах в корзине